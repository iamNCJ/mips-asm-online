(this["webpackJsonpmips-asm-online"]=this["webpackJsonpmips-asm-online"]||[]).push([[1],{281:function(e,t,r){e.exports=r(369)},286:function(e,t,r){},366:function(e,t,r){},369:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r.n(n),i=r(168),o=r.n(i),s=(r(286),r(198)),l=r(263),c=r(199),u=r(215),d=r(264),h=r.n(d),g=r(265),m=r(402),f=r(396),p=r(276),v=r(400),w=r(403),b=r(266),E=(r(366),r(201)),$=r(278);var S={add:x,addu:x,sub:x,subu:x,and:x,or:x,xor:x,nor:x,slt:x,sltu:x,sllv:x,srlv:x,srav:x,sll:N,srl:N,sra:N,jr:function(e){if(3!==e.length)throw Error("I-type instruction `"+e[0]+"` needs rs");var t=I[e[1]];if(void 0===t)throw Error("Register '"+e[1]+"' not exist");return parseInt("000000"+t+"000000000000000001000",2)},addi:L,addiu:L,andi:L,ori:L,xori:L,slti:L,sltiu:L,beq:L,bne:L,lw:j,sw:j,lui:function(e){if(4!==e.length)throw Error("I-type instruction `"+e[0]+"` needs rt, immediate");var t=I[e[1]];if(void 0===t)throw Error("Register '"+e[1]+"' not exist");var r="",n=parseInt(e[2]);if(n>=0&&n<=65535)r=("0000000000000000"+n.toString(2)).slice(-16);else{if(!(n<=0&&n>=-32768))throw Error("Illegal operand: Immediate length too long");r=(-1-n^Math.pow(2,16)-1).toString(2)}return parseInt("00111100000"+t+r,2)},j:O,jal:O,eret:function(){return 33554456}},I={$zero:"00000",$at:"00001",$v0:"00010",$v1:"00011",$a0:"00100",$a1:"00101",$a2:"00110",$a3:"00111",$t0:"01000",$t1:"01001",$t2:"01010",$t3:"01011",$t4:"01100",$t5:"01101",$t6:"01110",$t7:"01111",$s0:"10000",$s1:"10001",$s2:"10010",$s3:"10011",$s4:"10100",$s5:"10101",$s6:"10110",$s7:"10111",$t8:"11000",$t9:"11001",$k0:"11010",$k1:"11011",$gp:"11100",$sp:"11101",$fp:"11110",$ra:"11111"};function y(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="",a=0,i=e.length;a<i;a++){var o=e[a][e[a].length-1]+1;try{e[a][e[a].length-1]=a;var s=S[e[a][0]](e[a],r);t?(n+=("00000000"+s.toString(16).toUpperCase()).slice(-8),a!==i-1?(n+=", ",a%8===7&&(n+="\n")):n+=";"):n+=a.toString()+": "+("00000000000000000000000000000000"+s.toString(2)).slice(-32)+"\n"}catch(l){throw"TypeError"===l.name?new k(o,"no such instruction '"+e[a][0]+"'"):new k(o,l.message)}}return n}function x(e){if(5!==e.length)throw Error("R-type instruction `"+e[0]+"` needs rs, rt, rd");for(var t=[],r=1;r<4;r++)if(t.push(I[e[r]]),void 0===t[r-1])throw Error("Register '"+e[r]+"' not exist");var n={add:"100000",addu:"100001",sub:"100010",subu:"100011",and:"100100",or:"100101",xor:"100110",nor:"100111",slt:"101010",sltu:"101011",sllv:"000100",srlv:"000110",srav:"000111"}[e[0]];return parseInt("000000"+t[1]+t[2]+t[0]+"00000"+n,2)}function N(e){if(5!==e.length)throw Error("R-type instruction `"+e[0]+"` needs rs, rt, rd");for(var t=[],r=1;r<3;r++)if(t.push(I[e[r]]),void 0===t[r-1])throw Error("Register '"+e[r]+"' not exist");var n={sll:"000000",srl:"000010",sra:"000011"}[e[0]],a=parseInt(e[3]);if(a>31||a<0)throw Error("Illegal operand: Shift amount length out of range");var i=("00000"+a.toString(2)).slice(-5);return parseInt("00000000000"+t[1]+t[0]+i+n,2)}function L(e,t){if(5!==e.length)throw Error("I-type instruction `"+e[0]+"` needs rs, rt, imm");for(var r={addi:"001000",addiu:"001001",andi:"001100",ori:"001110",xori:"001110",slti:"001010",sltiu:"001011",beq:"000100",bne:"000101"}[e[0]],n=[],a=1;a<3;a++)if(n.push(I[e[a]]),void 0===n[a-1])throw Error("Register '"+e[a]+"' not exist");var i=parseInt(e[3]);if(isNaN(i)&&(i=t[e[3]]-e[4]-1,isNaN(i)))throw Error("Undefined label: Label name: "+e[3]);var o="";if(i>=0&&i<=65535)o=("0000000000000000"+i.toString(2)).slice(-16);else{if(!(i<=0&&i>=-32768))throw Error("Illegal operand: Immediate length too long");o=(-1-i^Math.pow(2,16)-1).toString(2)}return parseInt(r+n[1]+n[0]+o,2)}function j(e){if(5!==e.length)throw Error("I-type instruction `"+e[0]+"` needs rs, rt, immediate");var t={lw:"100011",sw:"101011"}[e[0]],r=I[e[3]];if(void 0===r)throw Error("Register '"+e[3]+"' not exist");var n=I[e[1]];if(void 0===n)throw Error("Register '"+e[1]+"' not exist");var a="",i=parseInt(e[2]);if(i>=0&&i<=65535)a=("0000000000000000"+i.toString(2)).slice(-16);else{if(!(i<=0&&i>=-32768))throw Error("Illegal operand: Immediate length too long");a=(-1-i^Math.pow(2,16)-1).toString(2)}return parseInt(t+r+n+a,2)}function O(e,t){if(3!==e.length)throw Error("J-type instruction `"+e[0]+"` needs address");var r={j:"000010",jal:"000011"}[e[0]],n=parseInt(e[1]);if(isNaN(n)){if(n=t[e[1]],isNaN(n))throw Error("Undefined label: Label name: "+e[1]);n.toString(2).slice(0,4),e[2].toString(2).slice(0,4)}var a="";if(!(n>=0&&n<=67108863))throw Error("Illegal address: address "+e[1]+" out of range");return a=("00000000000000000000000000"+n.toString(2)).slice(-26),parseInt(r+a,2)}var k=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var n;Object(s.a)(this,r);for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n=t.call.apply(t,[this].concat(i)),Error.captureStackTrace&&Error.captureStackTrace(Object(E.a)(n),r),n.name="ParseError",n.lineNum=e,n}return r}(Object($.a)(Error)),C=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="",n=e.trim().split("\n"),a=[],i={},o="",s=0,l=n.length;s<l;s++){var c=n[s].search("//");c>=0&&(n[s]=n[s].slice(0,c)),(c=n[s].search("#"))>=0&&(n[s]=n[s].slice(0,c));for(var u=n[s].replace(/:/g,":;").split(";"),d=0,h=u.length;d<h;d++)if(":"===u[d][u[d].length-1]){if(""!==o)throw new k(s+1,"Multiple pending label: Pending label: "+o+", new label: "+u[d].replace(":"," ").trim());var g=u[d].replace(":"," ").trim();if(!isNaN(parseInt(g)))throw new k(s+1,"Illegal label: Label: "+g);if(void 0!==i[g])throw new k(s+1,"Label already defined: Label: "+g+", old address: "+(4*i[g]).toString()+", new address: "+(4*a.length).toString());o=g}else{var m=u[d].replace(/,/g," ").replace(/\(/g," ").replace(/\)/g," ").trim().split(/\s+/);if(1===m.length&&""===m[0])continue;m.push(s),a.push(m),""!==o&&(i[o]=a.length-1,o="")}}r+=t?"Debug:\n":"memory_initialization_radix=16;\nmemory_initialization_vector=\n";try{r+=y(a,!t,i)}catch(f){throw f}return r},R={childrenGap:40},M=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).onChange=function(t){e.setState({code:t,errorLine:e.editor.deltaDecorations(e.state.errorLine,[])})},e.editorDidMount=function(t){e.editor=t},e.onChangeDebug=function(t,r){e.setState({debug:r})},e.assembleBtnFunc=function(){if(e.editor){var t=e.editor.getValue();try{e.setState({result:C(t,e.state.debug)})}catch(r){"ParseError"===r.name&&(console.log(),e.setState({result:r.name+": Line "+r.lineNum+": "+r.message,errorLine:e.editor.deltaDecorations(e.state.errorLine,[{range:new g.Range(r.lineNum,1,r.lineNum,1),options:{isWholeLine:!0,className:"ErrorLine"}}])}))}}},e.saveToFile=function(){var t=new Blob([e.state.result],{type:"text/plain;charset=utf-8"});Object(b.saveAs)(t,"asm.coe")},e.state={code:"# type your code... \n",debug:!1,theme:"vs-dark",result:"Result",errorLine:[]},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state,t=e.code,r=e.theme;return a.a.createElement("div",null,a.a.createElement("div",{id:"control"},a.a.createElement(m.a,{horizontal:!0,tokens:R},a.a.createElement(f.a,{text:"Assemble",onClick:this.assembleBtnFunc}),a.a.createElement(p.a,{text:"Save to File",onClick:this.saveToFile}),a.a.createElement(v.a,{label:"Debug Mode",inlineLabel:!0,onText:"On",offText:"Off",onChange:this.onChangeDebug}))),a.a.createElement("hr",null),a.a.createElement("div",{id:"editor"},a.a.createElement(h.a,{height:"400",width:"100%",language:"mips",value:t,options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1},onChange:this.onChange,editorDidMount:this.editorDidMount,theme:r})),a.a.createElement("hr",null),a.a.createElement("div",{id:"result"},a.a.createElement(w.a,null,this.state.result.split("\n").map((function(e,t){return a.a.createElement("div",{key:t},e)})))))}}]),r}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement("h1",null,"MIPS Assembler Online",a.a.createElement("a",{href:"https://github.com/iamNCJ/mips-asm-online/stargazers",id:"star"},a.a.createElement("img",{src:"https://img.shields.io/github/stars/iamNCJ/mips-asm-online.svg?label=Stars&style=social",alt:"Stars"}))),a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[281,2,3]]]);
//# sourceMappingURL=main.3953450a.chunk.js.map